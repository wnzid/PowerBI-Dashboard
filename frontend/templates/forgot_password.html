{% extends "base.html" %}
{% block title %}Forgot Password{% endblock %}
{% block extra_head %}
  <link rel="stylesheet" href="{{ url_for('static', filename='Css/style.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='Css/login.css') }}" />
{% endblock %}
{% block content %}
<main class="login-main">
  <div class="login-card">
    <h2 class="login-title">Forgot Password</h2>
    <form action="{{ url_for('auth.forgot_password') }}" method="post" class="login-form">
      {{ form.hidden_tag() }}
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="abc@analyticsinstitute.edu.au" required>
      </div>
      <button type="submit" id="fpBtn" class="btn-primary">
        <span id="fpSpinner" class="spinner-border spinner-border-sm me-2 d-none" role="status" aria-hidden="true"></span>
        Send reset link
      </button>
    </form>
  </div>
</main>
{% endblock %}
{% block extra_js %}
<script>
  const fpForm = document.querySelector('.login-form');
  const fpBtn = document.getElementById('fpBtn');
  const fpSpinner = document.getElementById('fpSpinner');
  if (fpForm && fpBtn && fpSpinner) {
    fpForm.addEventListener('submit', () => {
      fpBtn.disabled = true;
      fpSpinner.classList.remove('d-none');
    });
  }
</script>
{% endblock %}
