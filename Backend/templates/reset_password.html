{% extends "base.html" %}
{% block title %}Reset Password{% endblock %}
{% block extra_head %}
  <link rel="stylesheet" href="{{ url_for('static', filename='Css/style.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='Css/login.css') }}" />
{% endblock %}
{% block content %}
<main class="login-main py-5 bg-light">
  <div class="login-card shadow-sm bg-white p-4 rounded">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <ul class="flashes">
        {% for category, msg in messages %}
        <li class="flash {{ category }}">{{ msg }}</li>
        {% endfor %}
      </ul>
    {% endif %}
    {% endwith %}
    <h2 class="login-title">Reset Password</h2>
    <form action="{{ url_for('auth.reset_password', token=token) }}" method="post" class="login-form">
      {{ form.hidden_tag() }}
      <div class="mb-3">
        <label for="password" class="form-label">New Password</label>
        <div class="password-wrapper">
          {{ form.password(class="form-control", id="password") }}
          <button type="button" class="toggle-password btn btn-link p-0">Show</button>
        </div>
      </div>
      <div class="mb-3">
        <label for="confirm" class="form-label">Confirm Password</label>
        {{ form.confirm(class="form-control", id="confirm") }}
      </div>
      <button type="submit" class="btn btn-primary w-100">Reset Password</button>
    </form>
  </div>
</main>
{% endblock %}
{% block extra_js %}
<script src="{{ url_for('static', filename='Js/login.js') }}"></script>
{% endblock %}
